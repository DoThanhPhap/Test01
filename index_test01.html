<!doctype html>
<html lang="vi">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Trang HTML Đơn Giản</title>
	<style>
		body { font-family: Arial, Helvetica, sans-serif; margin: 2rem; color: #333; line-height: 1.5; }
		header { margin-bottom: 1rem; }
		button { padding: 0.5rem 1rem; font-size: 1rem; cursor: pointer; }
		#message { margin-top: 1rem; color: #006600; font-weight: 600; }
		footer { margin-top: 2rem; font-size: 0.9rem; color: #666; }
	</style>
</head>
<body>
	<header>
		<h1>Chào mừng!</h1>
		<p>Đây là một trang HTML rất đơn giản.</p>
	</header>

	<main>
		<section>
			<h2>Ví dụ tương tác</h2>
			<p id="status">Nhấn nút bên dưới để hiển thị thời gian hiện tại.</p>
			<button id="showTimeBtn">Hiển thị thời gian</button>
			<p id="message" aria-live="polite"></p>
			<!-- New greeting button -->
			<button id="greetBtn" style="margin-left:0.5rem">Hiển thị lời chào</button>
			<p id="greetMessage" aria-live="polite" style="margin-top:0.5rem;color:#004488;font-weight:600"></p>
		</section>
	</main>

	<script>
		document.getElementById('showTimeBtn').addEventListener('click', function () {
			const now = new Date();
			document.getElementById('message').textContent = 'Bây giờ là: ' + now.toLocaleString();
		});

		document.getElementById('greetBtn').addEventListener('click', function () {
			const greetings = [
				'Xin chào!',
				'Chào bạn!',
				'Chúc một ngày tốt lành!',
				'Rất vui được gặp bạn!'
			];
			const msg = greetings[Math.floor(Math.random() * greetings.length)];
			document.getElementById('greetMessage').textContent = msg;
		});

		// Gold price button (fetch with fallback)
		// Note: No external network calls are guaranteed in this environment; we try a public API and fallback to a mock price.
		document.body.insertAdjacentHTML('beforeend', '\n\t\t<div style="margin:1rem 0">\n\t\t\t<button id="goldBtn">Giá vàng</button>\n\t\t\t<span id="goldMessage" aria-live="polite" style="margin-left:0.5rem;color:#8b5a00;font-weight:700"></span>\n\t\t</div>');

		document.getElementById('goldBtn').addEventListener('click', function () {
			const msgEl = document.getElementById('goldMessage');
			msgEl.textContent = 'Đang lấy giá...';
			// Example public API (may require CORS when opened locally). We'll attempt fetch and fallback.
			const apiUrl = 'https://api.sampleapis.com/fakebank/gold'; // placeholder - likely not real
			fetch(apiUrl)
				.then(function (res) { if (!res.ok) throw new Error('Network response not ok'); return res.json(); })
				.then(function (data) {
					// Try to read a price field if available
					const price = data && (data.price || data.goldPrice || data.rate);
					if (price) {
						msgEl.textContent = 'Giá vàng: ' + price + ' (nguồn API)';
					} else {
						msgEl.textContent = 'Không tìm thấy giá trong phản hồi API. (xem console)';
						console.log('Gold API returned:', data);
					}
				})
				.catch(function () {
					// Fallback mock price
					const mockPrice = '71,200,000 VND/kg';
					msgEl.textContent = 'Giá vàng (tham khảo): ' + mockPrice;
				});
		});
	</script>

	<footer>
		<p>File: index_test01.html — Tạo bởi trình trợ giúp</p>
	</footer>
</body>
</html>
